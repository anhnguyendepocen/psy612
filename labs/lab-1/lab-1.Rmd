---
title: "Lab 1: Correlations"
output: 
  html_document: 
    fig_caption: yes
    theme: cosmo
    toc: yes
    toc_depth: 3
    toc_float: TRUE
---

# Purpose

Today's lab will focus on correlations. We will discuss how to calculate a correlation coefficient between two variables, how to assess statistical significance of correlations, and a variety of tools for visualizing correlations, especially among large groups of variables. 

To quickly navigate to the desired section, click one of the following links:

1. [Calculating a correlation coefficient](#corcoeff)
1. [Statistical tests of correlations](#stats)
1. [Visualizing correlations](#plot)

You will need to load the following libraries to follow along with today's lab:

```{r message=FALSE}
library(tidyverse)
library(rio)
library(psych)
```


***

# Calculating a correlation coefficient{#corcoeff}

## Calculate by "hand"

* Covariance (sample)

$$\large cov_{xy} = {\frac{\sum{(x-\bar{x})(y-\bar{y})}}{N-1}}$$

* Correlation coefficient (sample)

$$\large r_{xy} = {\frac{\sum({z_{x}z_{y})}}{N}}$$

## Using R functions

### `stats::cov()`

### `stats::cor()`

*** 

# Statistical tests of correlations{#stats}

To illustrate how to assess statistical significance of correlations, we are going to work with a dataset about the relationship between conscientiousness and physical health. We've collected data from 60 people (30 men and 30 women) on their self-reported conscientiousness (using the BFI) and their self-reported physical health. We want to know if there is a significant correlation between these variables, and then whether or not that correlation differs between men and women.

* Import the data using the following code:

```{r}
health <- import("https://raw.githubusercontent.com/uopsych/psy612/master/labs/lab-1/data/consc_health.csv")
```


***

## Steps of hypothesis testing

## Power calculation 

## R functions

### `stats::cor.test()`

### `psych::corr.test()`

## Confidence intervals

## Comparing correlations by group

### `psych::r.test()`

***

# Visualizing correlations{#plot}

***

# Minihacks

## Minihack 1

***

## Minihack 2

***

## Minihack 3
